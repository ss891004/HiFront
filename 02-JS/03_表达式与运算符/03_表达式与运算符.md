# 第03节：表达式与运算符

### 一、表达式概述

#### 字面量

说表达式之前，我们先说说一个基本概念`字面量`。

在上一节，赋值符号`=`右边某种数据类型的值，就是字面量，例如字符串`"hello world"`,或是数字`100`。都是字面量。

#### 表达式

上一节我们接触过`+-*/`四个运算符，那么通过运算符将变量、字面量组合起来，就是表达式。

每一个表达式都有一个固定返回值（表达式的结果），例如下面的程序：

``` js
"hello" + "world" //"helloworld"
100 + 200 //300
```

### 二、运算符

#### 算数运算符

<table class="table table-bordered">
    <thead>
        <tr>
            <th>运算符</th>
            <th>描述</th>
            <th>示例</th>
            <th>结果</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>+</td>
            <td>加法</td>
            <td>20 + 10</td>
            <td>7</td>
        </tr>
        <tr>
            <td>-</td>
            <td>减法</td>
            <td>20 - 10</td>
            <td>10</td>
        </tr>
        <tr>
            <td>*</td>
            <td>乘法</td>
            <td>20 * 10</td>
            <td>200</td>
        </tr>
        <tr>
            <td>/</td>
            <td>除法</td>
            <td>20 / 10</td>
            <td>2</td>
        </tr>
        <tr>
            <td>%</td>
            <td>求于</td>
            <td>11 % 2</td>
            <td>1</td>
        </tr>
        <tr>
            <td>++</td>
            <td>自增1</td>
            <td>++7</td>
            <td>8</td>
        </tr>
        <tr>
            <td>-</td>
            <td>自减</td>
            <td>--7</td>
            <td>6</td>
        </tr>
    </tbody>
</table>


**自增运算符和自减运算符可以向上面的例子，写在变量的后面，也可写在变量的前面，写在前后意义不同**

``` js
var num1 = 10;
var num2 = 10;
console.log(num1++);  //输出10
console.log(++num2);  //输出11
```

自增和自减运算符如果写在变量后面，那么表达式的返回值是变量本身，然后变量自增或自减，运算符写在变量前面，那么变大时的返回值直接就是变量自增或自减后的结果。


#### 比较运算符

比较运算符的返回值是布尔值

<table class="table table-bordered">
    <thead>
        <tr>
            <th>运算符</th>
            <th>描述</th>
            <th>示例</th>
            <th>结果</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>></td>
            <td>大于</td>
            <td>20 > 10</td>
            <td>true</td>
        </tr>
        <tr>
            <td><</td>
            <td>小于</td>
            <td>20 < 10</td>
            <td>false</td>
        </tr>
        <tr>
            <td>>=</td>
            <td>大于等于</td>
            <td>20 >= 10</td>
            <td>true</td>
        </tr>
        <tr>
            <td><=</td>
            <td>小于等于</td>
            <td>20 <= 10</td>
            <td>false</td>
        </tr>
        <tr>
            <td>==</td>
            <td>等于</td>
            <td>20 == "20"</td>
            <td>true</td>
        </tr>
        <tr>
            <td>!=</td>
            <td>不等</td>
            <td>20 != 10</td>
            <td>false</td>
        </tr>
        <tr>
            <td>===</td>
            <td>恒等于</td>
            <td>20 === "20"</td>
            <td>false</td>
        </tr>
        <tr>
            <td>!==</td>
            <td>非更等于</td>
            <td>20 !== "20"</td>
            <td>true</td>
        </tr>
    </tbody>
</table>

#### 逻辑运算符

##### ||
```js
  document.write("<PRE>");
  /*JavaScript中的||将返回第一个不为false的那个值(对象亦可)或者最后一个值(如果全部都为false的话)*/
    var a=2;
    var b=90;
    var c=a||b;//在JavaScript中，非0的数字就代表true,0就代表false
    document.writeln("a=2,b=90,c=a||b的结果是："+c);//结果为2，返回第一个不为false的那个值，所以值是2

    var bFalse1=false;
    var bFalse2=false;
    var num=0;//0代表false
    var result=bFalse1||bFalse2||num;
    document.writeln("bFalse1=false,bFalse2=false,num=0,result=bFalse1||bFalse2||num的结果是："+num);//如果全部都为false的话，返回最后一个值，因此结果是0

    /*如果一个运算数是对象，另一个是 Boolean 值，返回该对象。*/
    var obj = new Object();
    var bTrue=true;
    var bFalse=false;
    document.writeln("obj||bTrue的结果是："+(obj||bTrue));//返回object
    document.writeln("bTrue||obj的结果是："+(bTrue||obj));//返回true,逻辑 OR 运算也是简便运算。对于逻辑 OR 运算符来说，如果第一个运算数值为 true，就不再计算第二个运算数。
    document.writeln("obj||bFalse的结果是："+(obj||bFalse));//返回object
    document.writeln("bFalse||obj的结果是："+(bFalse||obj));//返回object

    /*如果两个运算数都是对象，返回第一个对象*/
    var obj1 = new Object();
    var obj2 = new Object();
    document.writeln("obj1==(obj1||obj2)的结果是："+(obj1==(obj1||obj2)));//结果为true
    document.writeln("obj2==(obj1||obj2)的结果是："+(obj2==(obj1||obj2)));//结果为false

    /*如果某个运算数是 null，返回 null。*/
    var c=1;
    var d=null;
    document.writeln("d=null,null的布尔值是；"+(!!d));
    document.writeln("c=1，d=null,c||d的结果是："+(c||d));
    document.writeln("c=1，d=null,d||c的结果是："+(d||c));

    var o=new Object();
    document.writeln("o是一个对象，d=null,o||d的结果是："+(o||d));//返回object
    document.writeln("o是一个对象，d=null,d||o的结果是："+(d||o));//返回object

    var zero=0;
    document.writeln("zero=0，d=null,zero||d的结果是："+(zero||d));//返回null
    document.writeln("zero=0，d=null,d||zero的结果是："+(d||zero));//返回0

    var bTrue = true;
    var bResult = (bTrue || bUnknown);
    /*变量 bUnknown 是未定义的。不过，由于变量 bTrue 的值为 true，bUnknown 不会被计算，因此输出的是 "true"。*/
    document.writeln("bUnknown是未定义的一个变量，bResult = (bTrue || bUnknown)的结果是："+bResult);//输出 "true"

     bFalse = false;
     bResult = (bFalse || bUnknown);    //发生错误
    document.writeln(bResult);            //不会执行这一行
    document.write("</PRE>");
```

##### && 
```js
document.write("验证JavaScript逻辑And运算符的运算行为：");
document.write("<br/>");
document.write("-----------------------------------------------------------------------------");
document.write("<br/>");

var bTrue = true;
var bFalse = false;
var bResult = bTrue && bFalse;
/*1.如果两个运算数都是boolean类型，则返回boolean值*/
document.write("1.如果两个运算数都是boolean类型，则返回boolean值");
document.write("<br/>");
document.write("-----------------------------------------------------------------------------");
document.write("<br/>");
document.write("bTrue = true，bFalse = false，bTrue && bFalse的结果是："+(bResult));//结果为false
document.write("<br/>");

document.write("-----------------------------------------------------------------------------");
document.write("<br/>");

var obj = new Object();
/*2.如果一个运算数是对象，另一个是 Boolean 值，返回该对象*/
document.write("2.如果一个运算数是对象，另一个是 Boolean 值，返回该对象");
document.write("<br/>");
document.write("-----------------------------------------------------------------------------");
document.write("<br/>");
document.write("obj是一个对象，true&&obj的结果是："+(true&&obj));
document.write("<br/>");
document.write("obj==true&&obj的结果是："+(obj==(true&&obj)));
document.write("<br/>");
document.write("false&&obj的结果是："+(false&&obj));
document.write("<br/>");

document.write("-----------------------------------------------------------------------------");
document.write("<br/>");
/*3.如果两个运算数都是对象，返回第二个对象。*/
var obj1 = new Object();
var obj2 = new Object();
document.write("3.如果两个运算数都是对象，返回第二个对象。");
document.write("<br/>");
document.write("-----------------------------------------------------------------------------");
document.write("<br/>");
document.write("obj1是一个对象，obj2是一个对象，obj1==(obj1&&obj2)的结果是："+(obj1==(obj1&&obj2)));//结果为false
document.write("<br/>");
document.write("obj1是一个对象，obj2是一个对象，obj2==(obj1&&obj2)的结果是："+(obj2==(obj1&&obj2)));//结果为true
document.write("<br/>");

document.write("-----------------------------------------------------------------------------");
document.write("<br/>");
/*4.如果某个运算数是 null，返回null。*/
var a=null;
var b=true;
document.write("4.如果某个运算数是 null，返回null。");
document.write("<br/>");
document.write("a=null,b=true,a&&b的结果是："+(a&&b));
document.write("<br/>");
document.write("-----------------------------------------------------------------------------");
document.write("<br/>");
/*5.如果某个运算数是NaN，返回NaN*/
    var c = NaN;
    var d = "str";
document.write("5.如果某个运算数是NaN，返回NaN");
document.write("<br/>");
document.write("c=NaN,d=str,c&&d的结果是："+(c&&d));
document.write("<br/>");
document.write("-----------------------------------------------------------------------------");
document.write("<br/>");
/*
6.JavaScript中的逻辑 AND 运算是简便运算，即如果第一个运算数决定了结果，就不再计算第二个运算数。
对于逻辑 AND 运算来说，如果第一个运算数是 false，那么无论第二个运算数的值是什么，结果都不可能等于 true。
*/
var bFalse = false;
var bResult = (bFalse && bUnknown);
document.write("6.JavaScript中的逻辑 AND 运算是简便运算，即如果第一个运算数决定了结果，就不再计算第二个运算数");
document.write("<br/>");
document.write("对于逻辑 AND 运算来说，如果第一个运算数是 false，那么无论第二个运算数的值是什么，结果都不可能等于 true。");
document.write("<br/>");
document.write("bFalse=false，bUnknown是一个未定义的变量，bFalse && bUnknown的结果是："+(bResult)); //输出 "false"

var bTrue = true;
var bResult = (bTrue && bUnknown);    //发生错误
alert(bResult);            //这一行不会执行
```

##### !
```js
var bFalse = false;//运算数是bool类型的数
var sRed = "red";//运算数是字符串
var iZero = 0;//运算数是0
var iThreeFourFive = 345;//运算数是 0 以外的任何数字
var oObject = new Object();//对象
var oNull=null;//运算数是null
var oUndefined;//运算数是undifined
var oNaN=parseInt("abc");//使用parseInt方法把尝试字符串abc转换成整数，因为abc不是数字，因此是转不了的，所以返回的结果就是NaN

document.writeln("<XMP>");
document.writeln("oNaN=parseInt(\"abc\")返回的结果是"+oNaN);
document.writeln("bool类型的数false与!运算符运算之后的结果是：" + (!bFalse));
document.writeln("字符串sRed与!运算符运算之后的结果是： " + (!sRed));
document.writeln("数字0与!运算符运算之后的结果是：" + (!iZero));//如果运算数是数字 0，返回 true
document.writeln("数字345与!运算符运算之后的结果是：" + (!iThreeFourFive));//如果运算数是 0 以外的任何数字，返回 false
document.writeln("对象oObject与!运算符运算之后的结果是：" + (!oObject));//如果运算数是对象，返回 false
document.writeln("NaN与!运算符运算之后的结果是：" + (!oNaN));//如果运算数是NaN，返回 true
document.writeln("null与!运算符运算之后的结果是：" + (!oNull));//如果运算数是 null，返回 true
document.writeln("undifined与!运算符运算之后的结果是：" + (!oUndefined));
//document.writeln("未定义的字符串sBule与!运算符运算之后的结果是：" + (!sBule));//sBule前面没有定义，也就是sBule运算数是 undefined，因此这里发生错误
document.writeln("</XMP>");
```

+ 判断JavaScript 变量的 Boolean 值时，也可以使用逻辑 NOT 运算符。这样做需要在一行代码中使用两个 NOT 运算符。
无论运算数是什么类型，第一个 NOT 运算符返回 Boolean 值。第二个 NOT 将对该 Boolean 值取反，从而给出变量真正的 Boolean 值。
```js
var bFalse = false;//运算数是bool类型的数
var sRed = "red";//运算数是字符串
var iZero = 0;//运算数是0
var iThreeFourFive = 345;//运算数是 0 以外的任何数字
var oObject = new Object();//对象
var oNull=null;//运算数是null
var oUndefined;//运算数是undifined
var oNaN=parseInt("abc");//使用parseInt方法把尝试字符串abc转换成整数，因为abc不是数字，因此是转不了的，所以返回的结果就是NaN

document.write("<PRE>");
document.writeln("布尔数false 的逻辑值是 " + (!!bFalse));
document.writeln("字符串sRed 的逻辑值是 " + (!!sRed));
document.writeln("数字0 的逻辑值是 " + (!!iZero));
document.writeln("数字345 的逻辑值是 " + (!!iThreeFourFive));
document.writeln("对象Object 的逻辑值是 " + (!!oObject));
document.writeln("NaN的逻辑值是 ：" + (!!oNaN));
document.writeln("null 的逻辑值是 " + (!!oNull));
document.writeln("undefined 的逻辑值是 " + (!!oUndefined));
document.write("</PRE>");
```

#### 赋值运算符

下面我们以，x = 10 y = 20 ，来解释一下下面的运算符。

<table class="table table-bordered">
    <thead>
        <tr>
            <th>运算符</th>
            <th>描述</th>
            <th>示例</th>
            <th>等同于</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>=</td>
            <td>赋值</td>
            <td>x = 10</td>
            <td>无</td>
        </tr>
        <tr>
            <td>+=</td>
            <td>加并赋值</td>
            <td>x += y</td>
            <td>x = x + y</td>
        </tr>
        <tr>
            <td>-=</td>
            <td>减并赋值</td>
            <td>x -= y</td>
            <td>x = x - y</td>
        </tr>
        <tr>
            <td>*=</td>
            <td>乘并赋值</td>
            <td>x *= y</td>
            <td>x = x * y</td>
        </tr>
        <tr>
            <td>/=</td>
            <td>除并赋值</td>
            <td>x /= y</td>
            <td>x = x / y</td>
        </tr>
    </tbody>
</table>

在上述运算符中，`+=`是非常常用的。






### ==和===
+ ==和===的区别："==" 只要求值相等; "===" 要求值和类型都相等

