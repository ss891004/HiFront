### Node.js 简介

+ Node.js 是一个能够在服务器端运行 JavaScript 的开放源代码、跨平台 JavaScript 运行环境 。

+ Node 采用 Google 开发的 V8 引擎运行 js 代码 ，使用 事件驱动 、非阻塞 和 异步 I/O 模型 等技术来提高性能，可优化应用程序的传输量和规模 。
+ Node 大部分基本模块都用 JavaScript 编写 。在 Node 出现之前JS 通常 作为客户端程序设计语言使用， 以 JS 写出 的程序常在用户的浏览器上运行 。
+ 目前， Node 已被 IBM 、 Microsoft 、 Yahoo! 、 Walmart 、Groupon 、 SAP 、 LinkedIn 、 Rakuten 、 PayPal 、 Voxer 和GoDaddy 等企业采用。

### 简介
+ Node 主要 用于编写像 Web 服务器一样的网络应用，这和 PHP和 Python 是类似的 。
+ 但是 Node 与其 他语言最大的不同之处在于， PHP 等语言是阻塞 的而 Node 是非 阻塞 的。
+ Node 是 事件驱动的。开发者可以在不使用线程的情况下开发出一个能够承载高并发的服务器。其他服务器端语言难以开发高并发应用，而且即使开发出来，性能也不尽人意 。
+ Node 正是 在这个前提下被创造出来 。
+ Node 把 JS 的 易学易用和 Unix 网络编程的强大结合到了一起。
+ Node.js 允许通过 JS 和 一系列模块来编写服务器端应用和网络相关的应用 。
+ 核心模块包括文件系统 I/O 、网络（ HTTP 、 TCP 、 UDP 、 DNS 、TLS/SSL 等）、二进制数据流、加密算法、数据流等等 。 Node模块的 API 形式简单，降低了编程的复杂度 。
+ 使用框架可以加速开发。常用的框架有 Express.js 、 Socket.IO和 Connect 等 。 Node.js 的程序可以在 Microsoft Windows 、Linux 、 Unix 、 Mac OS X 等服务器上运行。
+ Node.js 也可以使用 CoffeeScript 、 TypeScript 、 Dart 语言，以及其他能够编译成 JavaScript 的语言编程。

### Node的用途
+ Web 服务 API ，比如 REST
+ 实时多人游戏
+ 后端的 Web 服务，例如跨域、服务器端的请求
+ 基于 Web 的应用
+ 多客户端的通信，如即时通信

### 安装nodejs
+ node -v


### commonJS规范

#### ECMAScript
+ 标准的缺陷
+ 没有模块系统
+ 标准库较少
+ 没有标准接口
+ 缺乏管理系统

### 模块化
+ 如果程序设计的规模达到了一定程度，则必须对其进行模块化 。
+ 模块化 可以有多种形式，但至少 应该 提供能够将代码分割为多个源文件的机制 。
+ CommonJS 的模块 功能可以帮我们解决该问题。


### CommonJS规范
+ CommonJS 规范的提出，主要是为了弥补当前 JavaScript 没有 模块化 标准 的 缺陷 。
+ CommonJS 规范为 JS 指定了一个美好的愿景，希望 JS 能够在任何地方运行 。
+ CommonJS 对模块的定义十分简单：
    + 模块引用
    + 模块定义
    + 模块标识

### 模块引用
+ 在规范中，定义了 require() 方法，这个方法接手模块标识，以此将一个模块引入到当前运行环境中。
+ 模块引用的示例代码：
    + var math = require('math');

### 模块定义
+ 在运行环境中，提供了 exports 对象用于导出当前模块的方法或者变量，并且它是唯一的导出的出口。
+ 在模块中还存在一个 module 对象，它代表模块自身，而 exports 是 module 的属性。
+ 在 Node 中一个文件就是一个模块。

```
exports.xxx  = function (){};
module.exports = {};
```

### 模块标识
+ 模块 标识 其实就是模块的名字，也就是传递给 require() 方法的参数，它必须是符合驼峰命名法的字符串，或者是以 、 开头的相对路径、或者绝对路径。
+ 模块的定义十分简单，接口也十分简洁。每个模块具有独立的空间，它们互不干扰，在引用时也显得干净利落。

### Node的模块实现
+ Node 中虽然使用的是 CommonJS 规范，但是其自身也对规范做了一些取舍。
+ 在 Node 中引入模块，需要经历如下 3 个步骤：
    + 路径分析
    + 文件定位
    + 编译执行
+ 在 Node 中，模块分为 三 类：一类是底层由C++ 编写的 内建模块 ，一类是 Node 提供的 核心模块 ；还有一类是用户编写的模块，称为 文件模块 。

### 包 package

+ CommonJS 的包规范允许我们将一组相关的模块组合到一起，形成一组完整的工具。
+ CommonJS 的包规范由 包结构 和 包描述文件 两个部分组成。

+ 包结构
    + 用于组织包中的各种文件
+ 包描述文件
    + 描述包的相关信息，以供外部读取分析

### 包结构
+ 包实际上就是一个压缩文件，解压以后还原为目录。符合规范的目录，应该包含如下文件：
    + package.json 描述文件
    + bin 可执行二进制文件
    + lib js 代码
    + doc 文档
    + test 单元测试

### 包描述文件
+ 包描述文件用于表达非代码相关的信息，它是一个 JSON 格式的文件 package.json位于包的根目录下，是包的重要组成部分。
+ package.json 中的字段
    + name 、 description 、 version 、 keywords 、maintainers 、 contributors 、 bugs 、licenses 、 repositories 、 dependencies 、homepage 、 os 、 cpu 、 engine 、 builtin 、directories 、 implements 、 scripts 、 author 、bin 、 main 、 devDependencies 。

NPM(Node Package Manager)
+ CommonJS 包规范是理论， NPM 是其中一种实践。
+ 对于 Node 而言， NPM 帮助其完成了第三方模块的发布、安装和依赖等。借助 NPMNode 与第三方模块之间形成了很好的一个

### NPM命令
+ npm v 
    + 查看版本
+ npm search 包名
    + 搜索模块包
+ npm install 包名
    + 在当前目录安装 包
+ pm install 包名 g
    + 全局模式安装 包
+ npm remove 包名
    + 删除一个 模块
+ npm install 文件路径
    + 从本地安装
+ npm install 包名 registry= 地址
    + 从镜像源安装
+ npm config set registry 地址
    + 设置镜像源